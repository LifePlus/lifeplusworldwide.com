---
import pascalCase from 'just-pascal-case'
import BlockWrapper from './blocks/BlockWrapper.astro'
import Masthead from './blocks/Masthead.astro'
import CardBlock from './blocks/CardBlock.astro'
import QuoteCarousel from './blocks/QuoteCarousel.astro'
import CenteredContent from './blocks/CenteredContent.astro'
import ColumnContent from './blocks/ColumnContent.astro'
import MultiColumnContent from './blocks/MultiColumnContent.astro'
import StatsBlock from './blocks/StatsBlock.astro'
import PeopleBlock from './blocks/PeopleBlock.astro'
import FreeformColumn from './blocks/FreeformColumn.astro'
import ContactForm from './blocks/ContactForm.astro'
import ReferralForm from './blocks/ReferralForm.astro'
import Map from './blocks/Map.astro'

const components = {
  Masthead,
  CardBlock,
  QuoteCarousel,
  CenteredContent,
  ColumnContent,
  MultiColumnContent,
  StatsBlock,
  PeopleBlock,
  FreeformColumn,
  ContactForm,
  ReferralForm,
  Map,
}
const props = Astro.props
const component = pascalCase(props.content._modelApiKey || '')
const blockExists = !!components[component]
const Block = components[component] || 'Fragment'
---

{blockExists &&
<BlockWrapper {...props}>
  <Block content={props.content} />
</BlockWrapper>
}
