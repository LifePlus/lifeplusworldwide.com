---
import get from 'just-safe-get'
import pascalCase from 'just-pascal-case'
import BlockWrapper from './blocks/BlockWrapper.astro'
import Masthead from './blocks/Masthead.astro'
import CardBlock from './blocks/CardBlock.astro'
import QuoteCarousel from './blocks/QuoteCarousel.astro'
import CenteredContent from './blocks/CenteredContent.astro'
import { ray } from 'node-ray'

const components = {
  Masthead,
  CardBlock,
  QuoteCarousel,
  CenteredContent,
}
const { content, index } = Astro.props
const component = pascalCase(content._modelApiKey || '')
const Block = components[component] || 'Fragment'
ray(content)
---

<BlockWrapper content={content} index={index}>
  <Block content={content} />
</BlockWrapper>
